<!DOCTYPE html>
<html>
<body>
<head>
    <script src=' https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
    <style>
        #messages {
            height: 300px;
            width: 300px;
            overflow: hidden;
            border: #ccc solid 1px;
        }

        section {
            margin-left: 20px;
        }
    </style>
</head>
<section>
    <h1>Chat Client #1</h1>
    <div id="messages"></div>
    <textarea rows="1" cols="35" id="chat"></textarea>
    <textarea rows="1" cols="35" id="fayeid"></textarea>
    <input type='button' value='Chat' id='fire'/>
    <script src='/faye/client.js'></script>
    <script>


        let client = new Faye.Client('/faye', {
            timeout: 20
        });

        let $chat = $('#chat');
        let $fayeid = $('#fayeid');
        $('#fire').on('click', null, function () {
          client.publish('/message-serve',{ message: $chat.val(), id: $fayeid.val() } )
        });
        client.subscribe('/message', (message) => {
            $('#messages').append('<p>' + message + '</p>');
        });

    </script>
</section>
</body>
</html>